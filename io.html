<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8">
  <title>Текстовое поле</title>
  <style>
  	
  </style>
  <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-app.js"></script>

  <script src="https://www.gstatic.com/firebasejs/7.18.0/firebase-storage.js"></script>
 
 </head>
 <body>
 <div id=359 name="div">
 <form>
<textarea name="textField" cols="35" rows="7"></textarea>
<p><input name="otprm" type=button onClick="getData()"></p>
</form>

 <input name="vFile" type=file onChange='chang()'/>

</div>
 <script language="JavaScript">

var firebaseConfig = {
  apiKey: "AIzaSyCB7-zaSIttCWPdhOEOjn83RD79thKULR4",
  authDomain: "houndredone-63426.firebaseapp.com",
  databaseURL: "https://houndredone-63426.firebaseio.com",
  projectId: "houndredone-63426",
  storageBucket: "houndredone-63426.appspot.com",
  messagingSenderId: "955812981428",
  appId: "1:955812981428:web:a748e9d46f3dd88d4cc5e1",
  measurementId: "G-J1G01LTK1Q"
};
var dp=firebase.initializeApp(firebaseConfig);

var storageRef = firebase.storage().ref();
var f,t;

document.forms[0].textField.value='*** Сегодня 24 августа 2020. Льёт дождь.'
document.body.style.overflow='hidden';
document.body.style.margin='0px';
document.body.style.marginTop='-3%';

const div=document.getElementsByName('div');
//div[0].style.backgroundSize='50px';
//div[0].style.width='720px';
//div[0].style.left='50%';
//div[0].style.reight='50%';
div[0].style.width=window.innerWidth+'px';
div[0].style.height=window.innerHeight+'px'
div[0].style.backgroundColor='darkblue';


const ert=document.getElementsByName('textField');
ert[0].style.width=window.innerWidth+'px';
ert[0].style.height=window.innerHeight/2+'px';
ert[0].style.position='fixed';

//ert[0].style.left='1%';
ert[0].style.fontSize='72px';
ert[0].style.backgroundColor='yellow';

const qwe=document.getElementsByName('otprm');
qwe[0].style.position='fixed';
qwe[0].style.borderRadius='50%';

qwe[0].style.width=window.innerWidth/2+'px';
qwe[0].style.height=window.innerWidth/2+'px';
qwe[0].style.top='53%';
qwe[0].style.left='25%';
//qwe[0].style.backgroundImage='url(./akk.jpg)';
//qwe[0].style.backgroundColor='green';
qwe[0].style.backgroundColor='yellow';
qwe[0].style.backgroundPositionY="50%";
qwe[0].style.backgroundSize='100%';
qwe[0].style.boxShadow="2px 10px 2px 2px rgba(0,0,0,1)";
//qwe[0].style.fontSize='24px';
const fff=document.getElementsByName('vFile');
fff[0].style.position='fixed';
fff[0].style.borderRadius='10%';
fff[0].style.backgroundColor='magenta';
fff[0].style.top='90%';
fff[0].style.left='5%';
fff[0].style.width='20%'
fff[0].style.height='5%'


function chang(){
if (qwe[0].style.backgroundColor=='red'){return;}
f=document.getElementsByName('vFile')[0].files[0];
ert[0].style.color='red';
ert[0].value='*** файл отправляется ';
qwe[0].style.backgroundColor='red';
ut=storageRef.child(`im/${f.name}`).put(f).then(function(snapshot) {
ert[0].value='*** файл  отправлен ';
ert[0].style.color='green';
qwe[0].style.backgroundColor='yellow';
});;;

}

function getData() {
t=document.forms[0].textField.value;

if (t==''){return;}
if (qwe[0].style.backgroundColor=='red'){return;}
if (t.slice(0,3)=='***'){document.forms[0].textField.value='';qwe[0].style.backgroundColor='green';return;}
document.forms[0].textField.value='*** о т п р а в л я е т с я ';
qwe[0].style.backgroundColor='red';
storageRef.child(`im/${new Date().getTime()}.txt`).putString(t).then(function(snapshot) {
document.forms[0].textField.value='*** п о л у ч е н о ';
qwe[0].style.backgroundColor='yellow';
});;
//document.forms[0].textField.value='';

};


</script>



 </body>
</html>
